# 代码逻辑图绘制指南

对于你想要绘制的代码逻辑图，需要重点关注以下几个方面：

## 1. 主要类（Class）关系

从项目结构来看，这是一个面向对象的CFD求解器，主要的类包括：

- `Info` 类：存储所有计算参数和配置信息
- `Block` 类：表示计算网格块，包含网格信息
- `Data` 类：数据容器，存储守恒变量、原始变量等
- `Equation` 类：处理守恒变量和原始变量之间的转换
- `BlockSolver` 类：主求解器，协调各组件完成计算
- `Initializer` 类：初始化各个组件
- `CgnsIO` 类：处理CGNS格式的输入输出
- `SpDistributor` 类：空间离散任务分发器
- `Reconstructor` 类：变量重构器基类

这些类之间有着明确的关系，应该作为代码逻辑图的主要节点。

## 2. 主要流程（Functions/Methods）

除了类之外，还需要关注主要的函数流程，特别是：

- 程序入口点：`main` 函数
- 求解流程：`stepsLoop`、`stepsLoopCFL` 等
- 空间离散：`rhsSolve` 方法
- 重构算法：各类重构器的 `recon` 方法
- 通量计算：`roeFlux1D`、`HLLCFlux1D` 等

## 3. 推荐的绘图方式

为了清晰展示代码逻辑，建议按照以下方式绘制图表：

### 层次结构图：
```
┌────────────────────────────────────┐
│              Main                  │
│          (zoneMain.cpp)            │
└─────────────┬──────────────────────┘
              │
              ▼
┌────────────────────────────────────┐
│          BlockSolver               │
│        (blockSolver.hpp)           │
└─────────────┬──────────────────────┘
              │
      ┌───────┼─────────┐
      ▼       ▼         ▼
┌─────────┐ ┌───────┐ ┌──────────────┐
│Initial- │ │Equa-  │ │SpDistributor │
│ izer    │ │ tion  │ │              │
└─────────┘ └───────┘ └──────────────┘
      ▲       ▲         ▲      ▲
      │       │         │      │
┌─────────┐ ┌───────┐ ┌────┐ ┌────┐
│  Block  │ │ Data  │ │Bnds│ │Info│
│         │ │       │ │    │ │    │
└─────────┘ └───────┘ └────┘ └────┘
```

### 数据流图：
```
初始化阶段：
Info --> Initializer --> Block, Equation, Bnds, SpDistributor

计算阶段：
BlockSolver -> 时间推进循环 -> SpDistributor -> 重构 -> 通量计算 -> 更新解

输出阶段：
Data -> CgnsIO -> 输出文件
```

## 4. 特别关注的组件

作为没有编程基础的人，在绘制逻辑图时应特别关注以下几点：

1. **主程序流程**：从 `main` 函数开始，看程序是如何一步步执行的
2. **数据封装**：`Data` 类如何存储变量，以及它在各个组件间的传递
3. **空间离散**：`SpDistributor` 如何将计算任务分发给不同方向
4. **时间推进**：`BlockSolver` 的时间积分方法
5. **边界处理**：`Bnds` 类如何处理边界条件

## 5. 实际操作建议

你可以按照如下步骤来绘制逻辑图：

1. 首先画出主程序 `main` 函数的流程框图
2. 然后画出 `BlockSolver` 类的主要方法调用关系
3. 接着画出初始化过程，显示 `Initializer` 如何创建其他对象
4. 最后画出计算循环中的空间离散和时间推进过程

这样的层次化绘制可以帮助你更好地理解整个CFD求解器的工作原理。